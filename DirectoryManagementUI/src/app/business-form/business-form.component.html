<!-- src/app/business-form/business-form.component.html -->
<form [formGroup]="businessForm" (ngSubmit)="onSubmit()">
    <h2 mat-dialog-title>{{isEdit ? 'Edit' : 'Add'}} Business</h2>
    <mat-dialog-content>
      <div class="form-container">
        <mat-form-field appearance="fill">
          <mat-label>Business Name</mat-label>
          <input matInput formControlName="name" required>
          <mat-error *ngIf="businessForm.get('name')?.errors?.['required']">Name is required</mat-error>
        </mat-form-field>
  
        <mat-form-field appearance="fill">
          <mat-label>Category</mat-label>
          <mat-select formControlName="category" required>
            <mat-option *ngFor="let category of categories" [value]="category.name">
              {{category.name}}
            </mat-option>
          </mat-select>
          <mat-error *ngIf="businessForm.get('category')?.errors?.['required']">Category is required</mat-error>
        </mat-form-field>
  
        <mat-form-field appearance="fill">
          <mat-label>Address</mat-label>
          <textarea matInput formControlName="address" required></textarea>
          <mat-error *ngIf="businessForm.get('address')?.errors?.['required']">Address is required</mat-error>
        </mat-form-field>
  
        <mat-form-field appearance="fill">
          <mat-label>City</mat-label>
          <input matInput formControlName="city" required>
          <mat-error *ngIf="businessForm.get('city')?.errors?.['required']">City is required</mat-error>
        </mat-form-field>
  
        <mat-form-field appearance="fill">
          <mat-label>State</mat-label>
          <input matInput formControlName="state" required>
          <mat-error *ngIf="businessForm.get('state')?.errors?.['required']">State is required</mat-error>
        </mat-form-field>
  
        <mat-form-field appearance="fill">
          <mat-label>Zip Code</mat-label>
          <input matInput formControlName="zipCode" required>
          <mat-error *ngIf="businessForm.get('zipCode')?.errors?.['required']">Zip Code is required</mat-error>
        </mat-form-field>
  
        <mat-form-field appearance="fill">
          <mat-label>Phone Number</mat-label>
          <input matInput formControlName="phoneNumber" required>
          <mat-error *ngIf="businessForm.get('phoneNumber')?.errors?.['required']">Phone is required</mat-error>
          <mat-error *ngIf="businessForm.get('phoneNumber')?.errors?.['pattern']">Invalid Indian phone number</mat-error>
        </mat-form-field>
  
        <mat-form-field appearance="fill">
          <mat-label>Website</mat-label>
          <input matInput formControlName="website">
          <mat-error *ngIf="businessForm.get('website')?.errors?.['pattern']">Invalid URL format</mat-error>
        </mat-form-field>
  
        <mat-form-field appearance="fill">
          <mat-label>Rating</mat-label>
          <input matInput type="number" formControlName="rating" min="0" max="5" step="0.1">
          <mat-error *ngIf="businessForm.get('rating')?.errors?.['min'] || businessForm.get('rating')?.errors?.['max']">
            Rating must be between 0 and 5
          </mat-error>
        </mat-form-field>
      </div>
    </mat-dialog-content>
    <mat-dialog-actions>
      <button mat-button mat-dialog-close>Cancel</button>
      <button mat-raised-button color="primary" type="submit" [disabled]="!businessForm.valid">
        {{isEdit ? 'Save Changes' : 'Save'}}
      </button>
    </mat-dialog-actions>
  </form>